# Установка клиента

Актуальный репозиторий bareos: https://download.bareos.org/current/

Добавить конфиг клиента  на сервере в **/etc/bareos/bareos-dir.d/jobs/**.

## Linux

- Скачать и выполнить скрипт **add_bareos_repositories.sh** для нужного дистрибутива по ссылке выше.

- Выполнить

  ```bash
  sudo apt update && sudo apt install -y bareos-filedaemon bareos-traymonitor
  ```

- Для работы **bareos-filedaemon**:

  - Скопировать пароль из **/etc/bareos/bareos-fd.d/client/myself.conf** в переменную окружения клиента в **.env**.
  - Скопировать пароль из **.env**->**BAREOS__MONITOR_CONSOLE_PASSWORD** в **/etc/bareos/bareos-fd.d/director/bareos-mon.conf**

- Для работы **bareos-traymonitor**:
- 
  - Удалить папку **/etc/bareos/tray-monitor.d**.
  - Создать файл **/etc/bareos/tray-monitor.conf**. Содержимое файла ниже.


## Windows

Скачать и установить **exe** по ссылке выше.

...


## Конфиг tray monitor


```nginx
# https://docs.bareos.org/Configuration/Monitor.html#traymonitor

Monitor {
  Name = bareos-mon
  Password = <Password for Directors>
  RefreshInterval = 10 seconds
}

Client {
  Name = Local FileDaemon
  Address = localhost
  FDPort = 9102
  Password = <Password for local FileDaemon>
}

Storage {
  Name = StorageDaemon
  Address = homelab
  SDPort = 9103
  Password = <Password for StorageDaemon>
}

Director {
  Name = Director
  Address = <Director address>
  DIRport = 9101
}
```
